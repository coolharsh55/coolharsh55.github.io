{% extends 'template_base.jinja2' %}
{% block navtype %}| <a href="/research">research</a>{% endblock navtype %}
{% block desc %}{% endblock desc %}
{% block pageCSS %}
<style type="text/css">
.presentation-info {
    font-size: 0.75rem;
    padding-top: 5px;
    padding-bottom: 5px;
}
</style>
{% endblock pageCSS %}
{% block content %}
<blockquote>Work-in-progress for uploading presentations from 2017-2019</blockquote>
<ol class='list-index list-sort' data-attributes="title,date,type">
{% for presentation, date, venue, topic in presentations %}
    <li id="{{presentation.schema_identifier}}" data-title="{{presentation.schema_name}}" data-date="{{presentation.schema_datePublished}}">
        <sup><small><a href="{{presentation.schema_url}}">&#x1f517;</a></small></sup> {{presentation}}
        <div class="presentation-info">
            <time datetime="{{presentation.schema_datePublished}}">{{presentation.schema_datePublished}}</time>;
            files: {% if presentation.schema_encoding is sequence %}
                {% for encoding in presentation.schema_encoding|sort(attribute='schema_encodingFormat') %}
                    <a href="{{encoding.schema_url}}">{{encoding.schema_encodingFormat}}</a>{{", " if not loop.last }}
                {% endfor %}
            {% else %}
                <a href="{{presentation.schema_encoding.schema_url}}">{{presentation.schema_encoding.schema_encodingFormat}}</a>
            {% endif %} | 
            venue: 
                {% if venue.schema_url %}<a href="{{venue.schema_url}}">{{venue}}</a>{% else %}{{venue}}{% endif %} |
            is about: 
                    {% if topic.schema_name == presentation.schema_name %}
                        <a href="{% if is_rdf_type(topic, 'hpcom:Link') %}{{ topic.schema_url }}{% else %}{{ topic.iri }}{% endif %}">{% if topic.rdf_type is sequence %}{% for parent in topic.rdf_type|reject('sameas', 'RenderedItem')|sort(attribute='iri') %}{{parent.schema_name}}{% endfor %}{% else %}{{ topic.rdf_type}}{% endif %}</a>
                    {% else %}
                        <a href="{% if is_rdf_type(topic, 'hpcom:Link') %}{{ topic.schema_url }}{% else %}{{ topic.iri }}{% endif %}">{{topic}}</a>
                    {% endif %}
        </div>
    </li>
{% endfor %}
</ol>

<h2>Presentations related to my work, but presented by others</h2>
<ol class='list-index list-sort' data-attributes="title,date,type">
{% for presentation, date, venue, topic in presentations_others %}
    <li id="{{presentation.schema_identifier}}" data-title="{{presentation.schema_name}}" data-date="{{presentation.schema_datePublished}}">
        <sup><small><a href="{{presentation.schema_url}}">&#x1f517;</a></small></sup> {{presentation}}
        <small><i>by {{presentation.schema_performer}}</i></small>
        <div class="presentation-info">
            <time datetime="{{presentation.schema_datePublished}}">{{presentation.schema_datePublished}}</time>;
            files: {% if presentation.schema_encoding is sequence %}
                {% for encoding in presentation.schema_encoding|sort(attribute='schema_encodingFormat') %}
                    <a href="{{encoding.schema_url}}">{{encoding.schema_encodingFormat}}</a>{{", " if not loop.last }}
                {% endfor %}
            {% else %}
                <a href="{{presentation.schema_encoding.schema_url}}">{{presentation.schema_encoding.schema_encodingFormat}}</a>
            {% endif %} | 
            venue: 
                {% if venue.schema_url %}<a href="{{venue.schema_url}}">{{venue}}</a>{% else %}{{venue}}{% endif %} |
            is about: 
                    {% if topic.schema_name == presentation.schema_name %}
                        <a href="{% if is_rdf_type(topic, 'hpcom:Link') %}{{ topic.schema_url }}{% else %}{{ topic.iri }}{% endif %}">{% if topic.rdf_type is sequence %}{% for parent in topic.rdf_type|reject('sameas', 'RenderedItem')|sort(attribute='iri') %}{{parent.schema_name}}{% endfor %}{% else %}{{ topic.rdf_type}}{% endif %}</a>
                    {% else %}
                        <a href="{% if is_rdf_type(topic, 'hpcom:Link') %}{{ topic.schema_url }}{% else %}{{ topic.iri }}{% endif %}">{{topic}}</a>
                    {% endif %}
        </div>
    </li>
{% endfor %}
</ol>

{% endblock content %}