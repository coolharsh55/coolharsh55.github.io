{% extends 'template_base.jinja2' %}
{% block navtype %}| <a href="/hobbies">hobbies</a>{% endblock navtype %}
{% block desc %}{% endblock desc %}
{% block content %}
<ol class="list-sort" data-attributes="name,author,year,date-read,medium-read,medium-owned,rating">
    {% for book, name in books %}
    <li id="{{book.hpcom_book_id}}" data-name="{{book.schema_name}}" data-author="{{book.schema_author}}" data-year="{{book.schema_dateCreated}}" data-date-read="{{ book.hpcom_date_book_read if book.hpcom_date_book_read else 'NA'}}" data-medium-read="{% if rdf_check_object(book, 'hpcom_book_owned_medium', HPCOM.PhysicalBook) %}ðŸ“š{% elif rdf_check_object(book, 'hpcom_book_owned_medium', HPCOM.EBook) %}ðŸ’¾{% else %}0{% endif %}" data-medium-owned="{{ book.hpcom_book_owned_medium if book.hpcom_book_owned_medium else 'NA'}}" data-rating="{{book.schema_aggregatedRating.schema_ratingValue if book.schema_aggregatedRating else 0}}">
      <a href="{{book.iri}}">{{book.schema_name}}</a> - <small><i>{{book.schema_author}} ({{book.schema_dateCreated}})</i></small> <br/>
        <small>
        {% if book.schema_genre is sequence %}{% for genre in book.schema_genre|sort(attribute='iri') %}
            {{genre}}{{', ' if not loop.last}}{% endfor %}
        {% else %}
            {{ book.schema_genre }}
        {% endif %}
        {% if book.hpcom_date_book_read %}
            {% set year = book.hpcom_date_book_read|year %}
            ; read in <time datetime="{{year}}">{{year}}</time> in 
            {% if rdf_check_object(book, 'hpcom_book_read_medium', HPCOM.PhysicalBook) %}ðŸ“š{% elif rdf_check_object(book, 'hpcom_book_read_medium', HPCOM.EBook) %}ðŸ’¾{% endif %} medium ; 
            {% if rdf_check_object(book, 'hpcom_book_owned_medium', HPCOM.PhysicalBook) %}owned as ðŸ“š ;{% elif rdf_check_object(book, 'hpcom_book_owned_medium', HPCOM.EBook) %}owned as ðŸ’¾ ;{% endif %}
            {% if book.schema_aggregatedRating %} it was {{book.schema_aggregatedRating}}{% endif %}
         {% else %}
            ; unread
         {% endif %}
        </small>
    </li>
    {% endfor %}
</ol>        
{% endblock content %}